<app-header heading="Select Distributor" [showMenuButton]="true" [showSubHeader]="true" [showSearch]=false 
[showCart]="true" [badgeCount]="badgeCountValue">
</app-header>
<ion-content>
  <table  *ngIf="stockiestPrice?.distributor1_List?.length>0" class="section-margin">
    <thead >
      <tr>
        <th>{{'sdistributor.sdistributorPage.products' | translate}}</th>
        <th>{{'sdistributor.sdistributorPage.quantity' | translate}}</th>
        <th>{{stockiestPrice?.distributor1_List[0]?.stkName}}</th>
        <th>{{stockiestPrice?.distributor2_List[0]?.stkName}}</th>
        <th>{{stockiestPrice?.distributor3_List[0]?.stkName}}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartWithPDistributor;let i=index;">
        <td><ion-label><p>{{item.unitCart.productDescription}}</p>
      <p class="mrp-section">{{item.unitCart.ptr | currency : 'INR' : 'symbol-narrow':'1.0-0'}}</p></ion-label></td>
        <td>
          <ion-row>
            <ion-col>
               <div class="ion-text-center" (click)="modifyQuantity('remove',i)">
                <ion-icon class="icon-color"  slot="icon-only" name="remove-circle-outline"></ion-icon>
               </div>
               <div class="ion-text-center">
                <ion-label >{{item.unitCart.quantity}}</ion-label>
              </div>
               <div class="ion-text-center" (click)="modifyQuantity('add',i)">
                <ion-icon class="icon-color" slot="icon-only" name="add-circle-outline"></ion-icon>
               </div>
            </ion-col>
          </ion-row>
        </td>
        <td><div [ngClass]="{'color-green':item.stockiestOne?.salebleQty >= item.unitCart.quantity,
          'color-red':item.stockiestOne?.salebleQty < item.unitCart.quantity
        }"><ion-label class="center-data" [ngClass]="{'color-black':item.stockiestOne?.totalDisplayPrice == 0 || !item.stockiestOne?.totalDisplayPrice,
        'color-white':item.stockiestOne?.totalDisplayPrice > 0}">{{item.stockiestOne?.totalDisplayPrice > 0 ? (item.stockiestOne?.totalDisplayPrice | currency:'INR':'symbol-narrow':'1.0-0') : 'NA'}}</ion-label></div></td>

        <td><div [ngClass]="{'color-green':item.stockiestTwo?.salebleQty >= item.unitCart.quantity,
          'color-red':item.stockiestTwo?.salebleQty < item.unitCart.quantity
          }"><ion-label class="center-data" [ngClass]="{'color-black':item.stockiestTwo?.totalDisplayPrice == 0  || !item.stockiestTwo?.totalDisplayPrice,
          'color-white':item.stockiestTwo?.totalDisplayPrice > 0}">{{item.stockiestTwo?.totalDisplayPrice > 0 ? (item.stockiestTwo?.totalDisplayPrice | currency:'INR':'symbol-narrow':'1.0-0') : 'NA'}}</ion-label></div></td>
       
        <td><div [ngClass]="{'color-green':item.stockiestThree?.salebleQty >= item.unitCart.quantity,
          'color-red':item.stockiestThree?.salebleQty < item.unitCart.quantity}"><ion-label class="center-data" [ngClass]="{'color-white':item.stockiestThree?.totalDisplayPrice > 0,
          'color-black':item.stockiestThree?.totalDisplayPrice == 0 || !item.stockiestThree?.totalDisplayPrice}">{{item.stockiestThree?.totalDisplayPrice > 0 ? (item.stockiestThree?.totalDisplayPrice | currency:'INR':'symbol-narrow':'1.0-0') : 'NA'}}</ion-label></div></td>
      </tr>
      <tr>
        <td style="color: #F36633;">{{'sdistributor.sdistributorPage.total' | translate}}</td>
        <td>
          <ion-label>{{getTotalForQuantity()}}</ion-label>
        </td>
        <td><div class="color-trans"><ion-label class="center-data">{{getTotalForPrice(0) | currency:'INR':'symbol-narrow':'1.0-0'}}</ion-label></div></td>
        <td><div class="color-trans"><ion-label class="center-data">{{getTotalForPrice(1) | currency:'INR':'symbol-narrow':'1.0-0'}}</ion-label></div></td>
        <td><div class="color-trans"><ion-label class="center-data">{{getTotalForPrice(2) | currency:'INR':'symbol-narrow':'1.0-0'}}</ion-label></div></td>
      </tr>
      <tr>
        <td [colSpan]="2">{{'sdistributor.sdistributorPage.sdistributor' | translate }}</td>
        <td [colSpan]="3">
          <ion-radio-group  (ionChange)="selectDistributor($event)">
            <ion-row style="align-items: center;">
              <ion-col style="min-height: 57px;height: 57px;">
                <div class="ion-text-center"><ion-label class="center-data"><ion-radio mode="md" value="0"></ion-radio></ion-label>
              </div>
            </ion-col>
              <ion-col style="min-height: 57px;height: 57px;"><div class="ion-text-center"><ion-label class="center-data"><ion-radio mode="md" value="1"></ion-radio></ion-label>
              </div></ion-col>
              <ion-col style="min-height: 57px;height: 57px;"><div class="ion-text-center"><ion-label class="center-data"><ion-radio mode="md"   value="2"></ion-radio></ion-label>
              </div></ion-col>
            </ion-row>
          </ion-radio-group>
        </td>
      </tr>
    </tbody>
  </table>
</ion-content>
<app-footer (secondEvent)="continueClicked();" (firstEvent)="cancel();" [isFirstOutline]=true [isSecondOutline]=false [firstTitle]="'sdistributor.sdistributorPage.cancel'" [secondTitle]="'sdistributor.sdistributorPage.continue'" [showInfo]=true [infoText]="sDistributor" [infoLabel]="sDInfoLabel" [isLegand]="true"></app-footer>
