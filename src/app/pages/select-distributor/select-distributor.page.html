<app-header heading="Select Distributor" [showMenuButton]="true" [showSubHeader]="true" [showSearch]=false [showCart]="true" [badgeCount]="badgeCountValue">
</app-header>
<ion-content>
  <table  class="section-margin">
    <thead >
      <tr>
        <th>{{'sdistributor.sdistributorPage.products' | translate}}</th>
        <th>{{'sdistributor.sdistributorPage.quantity' | translate}}</th>
        <th>{{stockiestPrice?.distributor1_List[0]?.stkName}}</th>
        <th>{{stockiestPrice?.distributor2_List[0]?.stkName}}</th>
        <th>{{stockiestPrice?.distributor3_List[0]?.stkName}}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartWithPDistributor;let i=index;">
        <td>{{item.unitCart.productDescription}}</td>
        <td>
          <ion-row>
            <ion-col>
               <div class="ion-text-center" (click)="modifyQuantity('remove',i)">
                <ion-icon class="icon-color"  slot="icon-only" name="remove-circle-outline"></ion-icon>
               </div>
               <div class="ion-text-center">
                <ion-label >{{item.unitCart.quantity}}</ion-label>
              </div>
               <div class="ion-text-center" (click)="modifyQuantity('add',i)">
                <ion-icon class="icon-color" slot="icon-only" name="add-circle-outline"></ion-icon>
               </div>
            </ion-col>
          </ion-row>
        </td>
        <td><div [ngClass]="{'color-green':item.stockiestOne?.salebleQty >= item.unitCart.quantity,
          'color-red':(item.stockiestOne?.salebleQty < item.unitCart.quantity) && item.stockiestOne?.stokiestRate > 0,
          'color-trans':(!item.stockiestOne?.stokiestRate || item.stockiestOne?.stokiestRate == 0)
        }"><ion-label class="center-data">{{(!item.stockiestOne?.totalDisplayPrice  || item.stockiestOne?.totalDisplayPrice == 0)?'NA': (item.stockiestOne?.totalDisplayPrice | currency:'INR':'symbol-narrow':'1.0-0')}}</ion-label></div></td>

        <td><div [ngClass]="{'color-green':item.stockiestTwo?.salebleQty >= item.unitCart.quantity,
          'color-red':(item.stockiestTwo?.salebleQty < item.unitCart.quantity) && item.stockiestTwo?.stokiestRate > 0,
          'color-trans':(!item.stockiestTwo?.stokiestRate || item.stockiestTwo?.stokiestRate == 0)
        }"><ion-label class="center-data">{{(!item.stockiestTwo?.totalDisplayPrice  || item.stockiestTwo?.totalDisplayPrice == 0)?'NA': (item.stockiestTwo?.totalDisplayPrice | currency:'INR':'symbol-narrow':'1.0-0')}}</ion-label></div></td>
       
        <td><div [ngClass]="{'color-green':item.stockiestThree?.salebleQty >= item.unitCart.quantity,
          'color-red':(item.stockiestThree?.salebleQty < item.unitCart.quantity) && item.stockiestThree?.stokiestRate > 0,
          'color-trans':(!item.stockiestThree?.stokiestRate || item.stockiestThree?.stokiestRate == 0)
        }"><ion-label class="center-data">{{(!item.stockiestThree?.totalDisplayPrice  || item.stockiestThree?.totalDisplayPrice == 0)?'NA': (item.stockiestThree?.totalDisplayPrice | currency:'INR':'symbol-narrow':'1.0-0')}}</ion-label></div></td>

       <!-- <td  ><div [ngClass]="{'color-green':item.stockiestTwo?.salebleQty >= item.unitCart.quantity,
          'color-red':item.stockiestTwo?.salebleQty < item.unitCart.quantity 
        }"><ion-label class="center-data">{{item.stockiestTwo?.totalDisplayPrice? (item.stockiestTwo?.totalDisplayPrice | currency:'INR':'symbol-narrow':'1.0-0'):'N/A'}}</ion-label></div></td>
        <td  ><div [ngClass]="{'color-green':item.stockiestThree?.salebleQty >= item.unitCart.quantity,
          'color-red':item.stockiestThree?.salebleQty < item.unitCart.quantity 
        }"><ion-label class="center-data">{{item.stockiestThree?.totalDisplayPrice ? (item.stockiestThree?.totalDisplayPrice | currency:'INR':'symbol-narrow':'1.0-0'):'N/A'}}</ion-label> </div></td>
      -->
      </tr>
      <tr>
        <td style="color: #F36633;">{{'sdistributor.sdistributorPage.total' | translate}}</td>
        <td>
          <ion-label>{{getTotalForQuantity()}}</ion-label>
        </td>
        <td><div class="color-trans"><ion-label class="center-data">{{getTotalForPrice(0) | currency:'INR':'symbol-narrow':'1.0-0'}}</ion-label></div></td>
        <td><div class="color-trans"><ion-label class="center-data">{{getTotalForPrice(1) | currency:'INR':'symbol-narrow':'1.0-0'}}</ion-label></div></td>
        <td><div class="color-trans"><ion-label class="center-data">{{getTotalForPrice(2) | currency:'INR':'symbol-narrow':'1.0-0'}}</ion-label></div></td>
      </tr>
      <tr>
        <td [colSpan]="2">{{'sdistributor.sdistributorPage.sdistributor' | translate }}</td>
        <td [colSpan]="3">
          <ion-radio-group  (ionChange)="selectDistributor($event)">
            <ion-row style="align-items: center;">
              <ion-col style="min-height: 57px;height: 57px;">
                <div class="ion-text-center"><ion-label class="center-data"><ion-radio  value="0"></ion-radio></ion-label>
              </div>
            </ion-col>
              <ion-col style="min-height: 57px;height: 57px;"><div class="ion-text-center"><ion-label class="center-data"><ion-radio  value="1"></ion-radio></ion-label>
              </div></ion-col>
              <ion-col style="min-height: 57px;height: 57px;"><div class="ion-text-center"><ion-label class="center-data"><ion-radio   value="2"></ion-radio></ion-label>
              </div></ion-col>
            </ion-row>
          </ion-radio-group>
        </td>
      </tr>
    </tbody>
   <!-- <tfoot>
      <tr>
        <td style="color: #F36633;">{{'sdistributor.sdistributorPage.total' | translate}}</td>
        <td>
          <ion-label>{{getTotalForQuantity()}}</ion-label>
        </td>
        <td>{{getTotalForPrice(0) | currency:'INR':'symbol-narrow':'1.0-0'}}</td>
        <td>{{getTotalForPrice(1) | currency:'INR':'symbol-narrow':'1.0-0'}}</td>
        <td>{{getTotalForPrice(2) | currency:'INR':'symbol-narrow':'1.0-0'}}</td>
      </tr>
     
    </tfoot>-->
  </table>
</ion-content>
<app-footer (secondEvent)="continueClicked();" (firstEvent)="cancel();" [isFirstOutline]=true [isSecondOutline]=false [firstTitle]="'sdistributor.sdistributorPage.cancel'" [secondTitle]="'sdistributor.sdistributorPage.continue'" [showInfo]=true [infoText]="sDistributor" [infoLabel]="sDInfoLabel" [isLegand]="true"></app-footer>
